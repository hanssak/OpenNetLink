@using System.Collections.Generic

@inject ISGAppManagerService SGAppMgrSvc

@implements IDisposable

<!-- Main Footer -->
<SGFooterUI FooterUISvc="@FooterUISvc" AppConfigSvc="@AppConfigSvc" VersionConfigSvc="@VersionConfigSvc"/>
<!-- Main Footer End -->

@code
{
    ISGFooterUIService FooterUISvc;
    ISGAppConfigService AppConfigSvc;
    ISGVersionConfigService VersionConfigSvc;

    protected override void OnInitialized()
    {
        FooterUISvc = SGAppMgrSvc.FooterUIService;
        AppConfigSvc = SGAppMgrSvc.AppConfigInfoService;
        VersionConfigSvc = SGAppMgrSvc.VersionConfigInfoService;
        FooterUISvc.OnChangeFooter += StateHasChanged;
    }

    public void Dispose()
    {
        FooterUISvc.OnChangeFooter -= StateHasChanged;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if(firstRender)
        {
            await base.OnAfterRenderAsync(firstRender);
            //StateHasChanged();
        }
    }
}